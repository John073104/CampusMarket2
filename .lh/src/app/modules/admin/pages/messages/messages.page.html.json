{
    "sourceFile": "src/app/modules/admin/pages/messages/messages.page.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1763885776635,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1763888387789,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,9 +2,9 @@\n   <ion-toolbar color=\"danger\">\r\n     <ion-buttons slot=\"start\">\r\n       <ion-back-button defaultHref=\"/admin/dashboard\"></ion-back-button>\r\n     </ion-buttons>\r\n-    <ion-title>All Messages</ion-title>\r\n+    <ion-title>My Messages</ion-title>\r\n     <ion-buttons slot=\"end\">\r\n       <ion-button (click)=\"loadAllChats()\">\r\n         <ion-icon name=\"refresh\"></ion-icon>\r\n       </ion-button>\r\n@@ -23,9 +23,9 @@\n <ion-content [fullscreen]=\"true\">\r\n   @if (loading) {\r\n     <div class=\"loading-container\">\r\n       <ion-spinner name=\"crescent\"></ion-spinner>\r\n-      <p>Loading all messages...</p>\r\n+      <p>Loading messages...</p>\r\n     </div>\r\n   } @else if (filteredChats.length === 0) {\r\n     <div class=\"empty-state\">\r\n       <ion-icon name=\"chatbubbles-outline\" size=\"large\"></ion-icon>\r\n@@ -35,17 +35,17 @@\n         <ion-button (click)=\"searchTerm = ''; filterChats()\">\r\n           Clear Search\r\n         </ion-button>\r\n       } @else {\r\n-        <p>No messages on the platform yet</p>\r\n+        <p>No messages yet. Users can contact you for support.</p>\r\n       }\r\n     </div>\r\n   } @else {\r\n     <div class=\"messages-container\">\r\n       <ion-card class=\"info-card\">\r\n         <ion-card-content>\r\n           <ion-icon name=\"information-circle\" color=\"primary\"></ion-icon>\r\n-          <p><strong>{{ filteredChats.length }}</strong> conversation(s) on the platform</p>\r\n+          <p><strong>{{ filteredChats.length }}</strong> conversation(s)</p>\r\n         </ion-card-content>\r\n       </ion-card>\r\n \r\n       <ion-list>\r\n"
                }
            ],
            "date": 1763885776635,
            "name": "Commit-0",
            "content": "<ion-header [translucent]=\"true\">\r\n  <ion-toolbar color=\"danger\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"/admin/dashboard\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>All Messages</ion-title>\r\n    <ion-buttons slot=\"end\">\r\n      <ion-button (click)=\"loadAllChats()\">\r\n        <ion-icon name=\"refresh\"></ion-icon>\r\n      </ion-button>\r\n    </ion-buttons>\r\n  </ion-toolbar>\r\n  \r\n  <ion-toolbar>\r\n    <ion-searchbar \r\n      [(ngModel)]=\"searchTerm\" \r\n      (ionInput)=\"filterChats()\"\r\n      placeholder=\"Search conversations...\">\r\n    </ion-searchbar>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content [fullscreen]=\"true\">\r\n  @if (loading) {\r\n    <div class=\"loading-container\">\r\n      <ion-spinner name=\"crescent\"></ion-spinner>\r\n      <p>Loading all messages...</p>\r\n    </div>\r\n  } @else if (filteredChats.length === 0) {\r\n    <div class=\"empty-state\">\r\n      <ion-icon name=\"chatbubbles-outline\" size=\"large\"></ion-icon>\r\n      <h2>No Messages Found</h2>\r\n      @if (searchTerm) {\r\n        <p>No conversations match \"{{ searchTerm }}\"</p>\r\n        <ion-button (click)=\"searchTerm = ''; filterChats()\">\r\n          Clear Search\r\n        </ion-button>\r\n      } @else {\r\n        <p>No messages on the platform yet</p>\r\n      }\r\n    </div>\r\n  } @else {\r\n    <div class=\"messages-container\">\r\n      <ion-card class=\"info-card\">\r\n        <ion-card-content>\r\n          <ion-icon name=\"information-circle\" color=\"primary\"></ion-icon>\r\n          <p><strong>{{ filteredChats.length }}</strong> conversation(s) on the platform</p>\r\n        </ion-card-content>\r\n      </ion-card>\r\n\r\n      <ion-list>\r\n        @for (chat of filteredChats; track chat.chatId) {\r\n          <ion-card>\r\n            <ion-item button (click)=\"viewChat(chat)\">\r\n              <ion-icon name=\"chatbubble-ellipses\" slot=\"start\" color=\"tertiary\"></ion-icon>\r\n              <ion-label>\r\n                <h2>{{ getParticipantNames(chat) }}</h2>\r\n                <p class=\"last-message\">{{ chat.lastMessage || 'No messages yet' }}</p>\r\n                @if (getLastMessageTime(chat)) {\r\n                  <p class=\"message-time\">\r\n                    <ion-icon name=\"time-outline\"></ion-icon>\r\n                    {{ getLastMessageTime(chat) | date:'short' }}\r\n                  </p>\r\n                }\r\n              </ion-label>\r\n              @if (getTotalUnreadCount(chat) > 0) {\r\n                <ion-badge color=\"danger\" slot=\"end\">\r\n                  {{ getTotalUnreadCount(chat) }} unread\r\n                </ion-badge>\r\n              }\r\n            </ion-item>\r\n\r\n            <ion-card-content>\r\n              <div class=\"chat-details\">\r\n                <div class=\"detail-item\">\r\n                  <ion-icon name=\"people\" color=\"medium\"></ion-icon>\r\n                  <span><strong>Chat ID:</strong> {{ chat.chatId?.slice(-8) }}</span>\r\n                </div>\r\n                @if (chat.orderId) {\r\n                  <div class=\"detail-item\">\r\n                    <ion-icon name=\"receipt\" color=\"medium\"></ion-icon>\r\n                    <span><strong>Order:</strong> #{{ chat.orderId.slice(-8) }}</span>\r\n                  </div>\r\n                }\r\n              </div>\r\n            </ion-card-content>\r\n          </ion-card>\r\n        }\r\n      </ion-list>\r\n    </div>\r\n  }\r\n</ion-content>\r\n"
        }
    ]
}