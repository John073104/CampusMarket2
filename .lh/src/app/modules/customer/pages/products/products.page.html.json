{
    "sourceFile": "src/app/modules/customer/pages/products/products.page.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1763388132032,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1763388132032,
            "name": "Commit-0",
            "content": "<ion-header [translucent]=\"true\">\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"/customer/dashboard\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>Browse Products</ion-title>\r\n    <ion-buttons slot=\"end\">\r\n      <ion-button routerLink=\"/customer/cart\">\r\n        <ion-icon name=\"cart\"></ion-icon>\r\n      </ion-button>\r\n    </ion-buttons>\r\n  </ion-toolbar>\r\n  \r\n  <!-- Search Bar -->\r\n  <ion-toolbar>\r\n    <ion-searchbar \r\n      [(ngModel)]=\"searchTerm\" \r\n      (ionInput)=\"onSearchChange()\"\r\n      placeholder=\"Search products...\"\r\n      animated>\r\n    </ion-searchbar>\r\n  </ion-toolbar>\r\n  \r\n  <!-- Category Filter -->\r\n  <ion-toolbar>\r\n    <ion-segment [(ngModel)]=\"selectedCategory\" (ionChange)=\"onCategoryChange()\" scrollable>\r\n      <ion-segment-button *ngFor=\"let category of categories\" [value]=\"category\">\r\n        <ion-label>{{ category }}</ion-label>\r\n      </ion-segment-button>\r\n    </ion-segment>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content [fullscreen]=\"true\">\r\n  <!-- Loading Spinner -->\r\n  @if (loading) {\r\n    <div class=\"loading-container\">\r\n      <ion-spinner name=\"crescent\"></ion-spinner>\r\n      <p>Loading products...</p>\r\n    </div>\r\n  }\r\n\r\n  <!-- Products Grid -->\r\n  @if (!loading && filteredProducts.length > 0) {\r\n    <div class=\"products-grid\">\r\n      @for (product of filteredProducts; track product.productId) {\r\n        <ion-card (click)=\"viewProduct(product.productId!)\" button>\r\n          <!-- Product Image -->\r\n          <div class=\"product-image-container\">\r\n            <img [src]=\"product.images[0] || 'assets/placeholder.png'\" [alt]=\"product.title\" />\r\n            @if (product.stock < 5) {\r\n              <ion-badge color=\"danger\" class=\"stock-badge\">\r\n                Low Stock\r\n              </ion-badge>\r\n            }\r\n          </div>\r\n\r\n          <ion-card-header>\r\n            <ion-card-title>{{ product.title }}</ion-card-title>\r\n            <ion-card-subtitle>\r\n              <ion-icon name=\"person-circle\"></ion-icon>\r\n              {{ product.sellerName }}\r\n              @if (product.sellerCourseName) {\r\n                <span> - {{ product.sellerCourseName }}</span>\r\n              }\r\n            </ion-card-subtitle>\r\n          </ion-card-header>\r\n\r\n          <ion-card-content>\r\n            <p class=\"product-description\">{{ product.description | slice:0:100 }}{{ product.description.length > 100 ? '...' : '' }}</p>\r\n            \r\n            <div class=\"product-footer\">\r\n              <div class=\"price-section\">\r\n                <span class=\"price\">â‚±{{ product.price | number:'1.2-2' }}@if (product.unitType) { <span class=\"unit\"> / {{ product.unitType }}</span> }</span>\r\n                <ion-badge [color]=\"product.category === 'Electronics' ? 'primary' : product.category === 'Books' ? 'secondary' : 'tertiary'\">\r\n                  {{ product.category }}\r\n                </ion-badge>\r\n              </div>\r\n              \r\n              <ion-button \r\n                expand=\"block\" \r\n                (click)=\"addToCart(product, $event)\"\r\n                [disabled]=\"product.stock === 0\">\r\n                <ion-icon name=\"cart\" slot=\"start\"></ion-icon>\r\n                {{ product.stock === 0 ? 'Out of Stock' : 'Add to Cart' }}\r\n              </ion-button>\r\n            </div>\r\n          </ion-card-content>\r\n        </ion-card>\r\n      }\r\n    </div>\r\n  }\r\n\r\n  <!-- Empty State -->\r\n  @if (!loading && filteredProducts.length === 0) {\r\n    <div class=\"empty-state\">\r\n      <ion-icon name=\"cart-outline\" size=\"large\"></ion-icon>\r\n      <h2>No Products Found</h2>\r\n      <p>Try adjusting your search or filters</p>\r\n    </div>\r\n  }\r\n</ion-content>\r\n"
        }
    ]
}