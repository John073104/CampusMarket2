{
    "sourceFile": "src/app/services/email.service.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1763640468897,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1763883254118,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,11 +6,11 @@\n })\r\n export class EmailService {\r\n   // EmailJS Configuration\r\n   // Sign up at https://www.emailjs.com/ and get your credentials\r\n-  private serviceId = 'service_xxxxxxx'; // Replace with your EmailJS service ID\r\n-  private templateId = 'template_xxxxxxx'; // Replace with your EmailJS template ID\r\n-  private publicKey = 'YOUR_PUBLIC_KEY'; // Replace with your EmailJS public key\r\n+  private serviceId = 'service_jyyi7e2'; // Replace with your EmailJS service ID\r\n+  private templateId = ''; // Replace with your EmailJS template ID\r\n+  private publicKey = '889ioeKjOwcpQ-K7F'; // Replacewith your EmailJS public key\r\n \r\n   constructor() {\r\n     // Initialize EmailJS with your public key\r\n     emailjs.init(this.publicKey);\r\n"
                },
                {
                    "date": 1763883283815,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,9 +7,9 @@\n export class EmailService {\r\n   // EmailJS Configuration\r\n   // Sign up at https://www.emailjs.com/ and get your credentials\r\n   private serviceId = 'service_jyyi7e2'; // Replace with your EmailJS service ID\r\n-  private templateId = ''; // Replace with your EmailJS template ID\r\n+  private templateId = 'template_96rsgmv'; // Replace with your EmailJS template ID\r\n   private publicKey = '889ioeKjOwcpQ-K7F'; // Replacewith your EmailJS public key\r\n \r\n   constructor() {\r\n     // Initialize EmailJS with your public key\r\n"
                }
            ],
            "date": 1763640468897,
            "name": "Commit-0",
            "content": "import { Injectable } from '@angular/core';\r\nimport emailjs from '@emailjs/browser';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EmailService {\r\n  // EmailJS Configuration\r\n  // Sign up at https://www.emailjs.com/ and get your credentials\r\n  private serviceId = 'service_xxxxxxx'; // Replace with your EmailJS service ID\r\n  private templateId = 'template_xxxxxxx'; // Replace with your EmailJS template ID\r\n  private publicKey = 'YOUR_PUBLIC_KEY'; // Replace with your EmailJS public key\r\n\r\n  constructor() {\r\n    // Initialize EmailJS with your public key\r\n    emailjs.init(this.publicKey);\r\n  }\r\n\r\n  /**\r\n   * Send order receipt email to customer\r\n   * @param orderData Order details\r\n   * @returns Promise<boolean>\r\n   */\r\n  async sendOrderReceipt(orderData: {\r\n    customerEmail: string;\r\n    customerName: string;\r\n    orderId: string;\r\n    items: Array<{ productName: string; quantity: number; price: number }>;\r\n    totalAmount: number;\r\n    orderDate: string;\r\n    paymentMethod: string;\r\n    deliveryAddress: string;\r\n  }): Promise<boolean> {\r\n    try {\r\n      // Create items list for email\r\n      const itemsList = orderData.items\r\n        .map(item => `${item.productName} (x${item.quantity}) - ₱${item.price.toFixed(2)}`)\r\n        .join('\\n');\r\n\r\n      const templateParams = {\r\n        to_email: orderData.customerEmail,\r\n        to_name: orderData.customerName,\r\n        order_id: orderData.orderId,\r\n        order_date: orderData.orderDate,\r\n        items_list: itemsList,\r\n        total_amount: `₱${orderData.totalAmount.toFixed(2)}`,\r\n        payment_method: orderData.paymentMethod,\r\n        delivery_address: orderData.deliveryAddress,\r\n        subject: `Order Confirmation - ${orderData.orderId}`\r\n      };\r\n\r\n      const response = await emailjs.send(\r\n        this.serviceId,\r\n        this.templateId,\r\n        templateParams\r\n      );\r\n\r\n      console.log('Email sent successfully:', response);\r\n      return response.status === 200;\r\n    } catch (error) {\r\n      console.error('Error sending email:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Send order status update email\r\n   * @param email Customer email\r\n   * @param name Customer name\r\n   * @param orderId Order ID\r\n   * @param status New order status\r\n   * @returns Promise<boolean>\r\n   */\r\n  async sendOrderStatusUpdate(\r\n    email: string,\r\n    name: string,\r\n    orderId: string,\r\n    status: string\r\n  ): Promise<boolean> {\r\n    try {\r\n      const templateParams = {\r\n        to_email: email,\r\n        to_name: name,\r\n        order_id: orderId,\r\n        order_status: status,\r\n        subject: `Order ${orderId} - Status Update`\r\n      };\r\n\r\n      const response = await emailjs.send(\r\n        this.serviceId,\r\n        this.templateId,\r\n        templateParams\r\n      );\r\n\r\n      return response.status === 200;\r\n    } catch (error) {\r\n      console.error('Error sending status update email:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Test email configuration\r\n   * @returns Promise<boolean>\r\n   */\r\n  async testEmailConfiguration(): Promise<boolean> {\r\n    try {\r\n      const testParams = {\r\n        to_email: 'test@example.com',\r\n        to_name: 'Test User',\r\n        subject: 'EmailJS Configuration Test',\r\n        message: 'If you receive this, EmailJS is configured correctly!'\r\n      };\r\n\r\n      const response = await emailjs.send(\r\n        this.serviceId,\r\n        this.templateId,\r\n        testParams\r\n      );\r\n\r\n      return response.status === 200;\r\n    } catch (error) {\r\n      console.error('Email configuration test failed:', error);\r\n      return false;\r\n    }\r\n  }\r\n}\r\n"
        }
    ]
}